2021-07-08 19:56:44.618 +01:00 [INF] User profile is available. Using 'C:\Users\Ahmed Sodiq\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-07-08 19:56:47.708 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-08 19:56:47.709 +01:00 [INF] Hosting environment: Development
2021-07-08 19:56:47.710 +01:00 [INF] Content root path: C:\ASPNETApps\SANTEGSMS\SANTEGSMS
2021-07-08 19:56:47.950 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:1952/Swagger/index.html  
2021-07-08 19:56:47.950 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:1952/Swagger  
2021-07-08 19:56:48.080 +01:00 [INF] Request finished in 137.3634ms 0 
2021-07-08 19:56:48.452 +01:00 [INF] Request finished in 511.1677ms 200 text/html;charset=utf-8
2021-07-08 19:56:48.652 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:1952/Swagger/swagger-ui.css  
2021-07-08 19:56:49.207 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-07-08 19:56:49.208 +01:00 [INF] Request finished in 555.9134ms 0 text/css
2021-07-08 19:56:49.280 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:1952/Swagger/favicon-16x16.png  
2021-07-08 19:56:49.304 +01:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2021-07-08 19:56:49.305 +01:00 [INF] Request finished in 25.0515ms 200 image/png
2021-07-08 19:56:49.605 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:1952/swagger/v1/swagger.json  
2021-07-08 19:56:50.456 +01:00 [INF] Request finished in 852.2465ms 200 application/json;charset=utf-8
2021-07-08 20:10:58.685 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:1952/api/SessionAndTerm/createSession application/json 40
2021-07-08 20:10:59.110 +01:00 [INF] CORS policy execution successful.
2021-07-08 20:10:59.299 +01:00 [INF] BasicAuthentication was not authenticated. Failure message: Missing Authorization Header
2021-07-08 20:10:59.375 +01:00 [INF] Authorization failed.
2021-07-08 20:10:59.389 +01:00 [INF] AuthenticationScheme: BasicAuthentication was challenged.
2021-07-08 20:10:59.414 +01:00 [INF] Request finished in 729.995ms 401 
2021-07-08 20:11:20.666 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:1952/api/SessionAndTerm/createSession application/json 40
2021-07-08 20:11:20.702 +01:00 [INF] CORS policy execution successful.
2021-07-08 20:11:20.773 +01:00 [INF] Authorization was successful.
2021-07-08 20:11:20.774 +01:00 [INF] Executing endpoint 'SANTEGSMS.Controllers.SessionAndTermController.createSessionAsync (SANTEGSMS)'
2021-07-08 20:11:21.064 +01:00 [INF] Route matched with {action = "createSession", controller = "SessionAndTerm"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] createSessionAsync(SANTEGSMS.RequestModels.SessionReqModel) on controller SANTEGSMS.Controllers.SessionAndTermController (SANTEGSMS).
2021-07-08 20:11:26.922 +01:00 [INF] Entity Framework Core 3.1.13 initialized 'AppDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: None
2021-07-08 20:11:29.000 +01:00 [INF] Executed DbCommand (206ms) [Parameters=[@__obj_SessionName_0='?' (Size = 4000), @__obj_SchoolId_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`DateCreated`, `s`.`DateDeleted`, `s`.`DeletedBy`, `s`.`IsDeleted`, `s`.`SchoolId`, `s`.`SessionName`
FROM `Sessions` AS `s`
WHERE (`s`.`SessionName` = @__obj_SessionName_0) AND (`s`.`SchoolId` = @__obj_SchoolId_1)
LIMIT 1
2021-07-08 20:11:30.293 +01:00 [INF] Executed DbCommand (66ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int64), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Sessions` (`DateCreated`, `DateDeleted`, `DeletedBy`, `IsDeleted`, `SchoolId`, `SessionName`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `Id`
FROM `Sessions`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2021-07-08 20:11:30.589 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__obj_SchoolId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`DateCreated`, `s`.`DateDeleted`, `s`.`DeletedBy`, `s`.`IsDeleted`, `s`.`SchoolId`, `s`.`SessionName`
FROM `Sessions` AS `s`
WHERE `s`.`SchoolId` = @__obj_SchoolId_0
ORDER BY `s`.`Id` DESC
2021-07-08 20:11:30.626 +01:00 [INF] Executing ObjectResult, writing value of type 'SANTEGSMS.ResponseModels.GenericRespModel'.
2021-07-08 20:11:30.815 +01:00 [INF] Executed action SANTEGSMS.Controllers.SessionAndTermController.createSessionAsync (SANTEGSMS) in 9733.242ms
2021-07-08 20:11:30.823 +01:00 [INF] Executed endpoint 'SANTEGSMS.Controllers.SessionAndTermController.createSessionAsync (SANTEGSMS)'
2021-07-08 20:11:30.853 +01:00 [INF] Request finished in 10188.2221ms 200 application/json; charset=utf-8
2021-07-08 20:12:22.137 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:1952/api/ReportCard/generatePins application/json 128
2021-07-08 20:12:22.162 +01:00 [INF] CORS policy execution successful.
2021-07-08 20:12:22.196 +01:00 [INF] Authorization was successful.
2021-07-08 20:12:22.196 +01:00 [INF] Executing endpoint 'SANTEGSMS.Controllers.ReportCardController.generatePinsAsync (SANTEGSMS)'
2021-07-08 20:12:22.221 +01:00 [INF] Route matched with {action = "generatePins", controller = "ReportCard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] generatePinsAsync(SANTEGSMS.RequestModels.PinCreateReqModel) on controller SANTEGSMS.Controllers.ReportCardController (SANTEGSMS).
2021-07-08 20:12:22.401 +01:00 [INF] Entity Framework Core 3.1.13 initialized 'AppDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: None
2021-07-08 20:12:22.436 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__schoolId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`DateCreated`, `s`.`DateUpdated`, `s`.`DistrictId`, `s`.`IsActive`, `s`.`IsApproved`, `s`.`IsVerified`, `s`.`LocalGovtId`, `s`.`SchoolCode`, `s`.`SchoolLogoUrl`, `s`.`SchoolName`, `s`.`SchoolTypeId`, `s`.`StateId`
FROM `Schools` AS `s`
WHERE `s`.`Id` = @__schoolId_0
LIMIT 1
2021-07-08 20:12:22.531 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__schoolCampusId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CampusAddress`, `s`.`CampusName`, `s`.`DateCreated`, `s`.`IsActive`, `s`.`SchoolId`
FROM `SchoolCampus` AS `s`
WHERE `s`.`Id` = @__schoolCampusId_0
LIMIT 1
2021-07-08 20:12:22.802 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__termId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`TermName`
FROM `Terms` AS `t`
WHERE `t`.`Id` = @__termId_0
LIMIT 1
2021-07-08 20:12:22.825 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`DateCreated`, `s`.`DateDeleted`, `s`.`DeletedBy`, `s`.`IsDeleted`, `s`.`SchoolId`, `s`.`SessionName`
FROM `Sessions` AS `s`
WHERE `s`.`Id` = @__sessionId_0
LIMIT 1
2021-07-08 20:12:22.847 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__schoolId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`DateCreated`, `s`.`DateUpdated`, `s`.`DistrictId`, `s`.`IsActive`, `s`.`IsApproved`, `s`.`IsVerified`, `s`.`LocalGovtId`, `s`.`SchoolCode`, `s`.`SchoolLogoUrl`, `s`.`SchoolName`, `s`.`SchoolTypeId`, `s`.`StateId`
FROM `Schools` AS `s`
WHERE `s`.`Id` = @__schoolId_0
LIMIT 2
2021-07-08 20:12:23.968 +01:00 [INF] Executed DbCommand (135ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Int64), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = Int64), @p10='?' (DbType = Int64), @p11='?' (DbType = Int64), @p12='?' (DbType = Int64), @p13='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ReportCardPin` (`CampusId`, `CreatedById`, `DateCreated`, `DateLastUsed`, `IsUsed`, `IsUsedById`, `NoOfTimesUsed`, `NoOfTimesValid`, `Pin`, `SchoolId`, `SessionId`, `TermId`, `ViewedClassGradeId`, `ViewedClassId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
SELECT `Id`
FROM `ReportCardPin`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2021-07-08 20:12:24.079 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Int64), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = Int64), @p10='?' (DbType = Int64), @p11='?' (DbType = Int64), @p12='?' (DbType = Int64), @p13='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ReportCardPin` (`CampusId`, `CreatedById`, `DateCreated`, `DateLastUsed`, `IsUsed`, `IsUsedById`, `NoOfTimesUsed`, `NoOfTimesValid`, `Pin`, `SchoolId`, `SessionId`, `TermId`, `ViewedClassGradeId`, `ViewedClassId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
SELECT `Id`
FROM `ReportCardPin`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2021-07-08 20:12:24.193 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Int64), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = Int64), @p10='?' (DbType = Int64), @p11='?' (DbType = Int64), @p12='?' (DbType = Int64), @p13='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ReportCardPin` (`CampusId`, `CreatedById`, `DateCreated`, `DateLastUsed`, `IsUsed`, `IsUsedById`, `NoOfTimesUsed`, `NoOfTimesValid`, `Pin`, `SchoolId`, `SessionId`, `TermId`, `ViewedClassGradeId`, `ViewedClassId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
SELECT `Id`
FROM `ReportCardPin`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2021-07-08 20:12:24.276 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Int64), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = Int64), @p10='?' (DbType = Int64), @p11='?' (DbType = Int64), @p12='?' (DbType = Int64), @p13='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ReportCardPin` (`CampusId`, `CreatedById`, `DateCreated`, `DateLastUsed`, `IsUsed`, `IsUsedById`, `NoOfTimesUsed`, `NoOfTimesValid`, `Pin`, `SchoolId`, `SessionId`, `TermId`, `ViewedClassGradeId`, `ViewedClassId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
SELECT `Id`
FROM `ReportCardPin`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2021-07-08 20:12:24.317 +01:00 [INF] Executing ObjectResult, writing value of type 'SANTEGSMS.ResponseModels.GenericRespModel'.
2021-07-08 20:12:24.358 +01:00 [INF] Executed action SANTEGSMS.Controllers.ReportCardController.generatePinsAsync (SANTEGSMS) in 2136.7265ms
2021-07-08 20:12:24.359 +01:00 [INF] Executed endpoint 'SANTEGSMS.Controllers.ReportCardController.generatePinsAsync (SANTEGSMS)'
2021-07-08 20:12:24.360 +01:00 [INF] Request finished in 2228.532ms 200 application/json; charset=utf-8
2021-07-08 20:19:03.652 +01:00 [INF] User profile is available. Using 'C:\Users\Ahmed Sodiq\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-07-08 20:19:05.353 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-08 20:19:05.354 +01:00 [INF] Hosting environment: Development
2021-07-08 20:19:05.364 +01:00 [INF] Content root path: C:\ASPNETApps\SANTEGSMS\SANTEGSMS
2021-07-08 20:19:05.515 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:1952/Swagger  
2021-07-08 20:19:05.515 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:1952/Swagger/index.html  
2021-07-08 20:19:05.592 +01:00 [INF] Request finished in 84.994ms 0 
2021-07-08 20:19:05.755 +01:00 [INF] Request finished in 249.7199ms 200 text/html;charset=utf-8
2021-07-08 20:19:05.949 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:1952/Swagger/swagger-ui.css  
2021-07-08 20:19:06.048 +01:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-07-08 20:19:06.049 +01:00 [INF] Request finished in 99.9491ms 0 text/css
2021-07-08 20:19:06.321 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:1952/swagger/v1/swagger.json  
2021-07-08 20:19:07.239 +01:00 [INF] Request finished in 919.0718ms 200 application/json;charset=utf-8
2021-07-08 20:19:35.003 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:1952/api/ReportCard/pinById  
2021-07-08 20:19:35.284 +01:00 [INF] Authorization was successful.
2021-07-08 20:19:35.286 +01:00 [INF] Executing endpoint 'SANTEGSMS.Controllers.ReportCardController.getPinByIdAsync (SANTEGSMS)'
2021-07-08 20:19:35.481 +01:00 [INF] Route matched with {action = "getPinById", controller = "ReportCard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] getPinByIdAsync(Int64) on controller SANTEGSMS.Controllers.ReportCardController (SANTEGSMS).
2021-07-08 20:19:40.739 +01:00 [INF] Entity Framework Core 3.1.13 initialized 'AppDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: None
2021-07-08 20:19:42.647 +01:00 [INF] Executed DbCommand (271ms) [Parameters=[@__pinId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `ReportCardPin` AS `r`
WHERE `r`.`Id` = @__pinId_0
2021-07-08 20:19:42.789 +01:00 [INF] Executing ObjectResult, writing value of type 'SANTEGSMS.ResponseModels.GenericRespModel'.
2021-07-08 20:19:42.819 +01:00 [INF] Executed action SANTEGSMS.Controllers.ReportCardController.getPinByIdAsync (SANTEGSMS) in 7324.8544ms
2021-07-08 20:19:42.820 +01:00 [INF] Executed endpoint 'SANTEGSMS.Controllers.ReportCardController.getPinByIdAsync (SANTEGSMS)'
2021-07-08 20:19:42.839 +01:00 [INF] Request finished in 7837.2447ms 200 application/json; charset=utf-8
2021-07-08 20:19:52.951 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:1952/api/ReportCard/pinById?pinId=1  
2021-07-08 20:19:53.004 +01:00 [INF] Authorization was successful.
2021-07-08 20:19:53.004 +01:00 [INF] Executing endpoint 'SANTEGSMS.Controllers.ReportCardController.getPinByIdAsync (SANTEGSMS)'
2021-07-08 20:19:53.006 +01:00 [INF] Route matched with {action = "getPinById", controller = "ReportCard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] getPinByIdAsync(Int64) on controller SANTEGSMS.Controllers.ReportCardController (SANTEGSMS).
2021-07-08 20:19:53.118 +01:00 [INF] Entity Framework Core 3.1.13 initialized 'AppDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: None
2021-07-08 20:19:53.155 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__pinId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `ReportCardPin` AS `r`
WHERE `r`.`Id` = @__pinId_0
2021-07-08 20:19:53.290 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__pinId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`Id`, `r`.`Pin`, `r`.`CreatedById`, `s`.`FirstName`, `s`.`LastName`, `r`.`SchoolId`, `s0`.`SchoolName`, `r`.`CampusId`, `s1`.`CampusName`, `r`.`SessionId`, `s2`.`SessionName`, `r`.`TermId`, `t`.`TermName`, `r`.`ViewedClassId`, `r`.`ViewedClassGradeId`, `r`.`NoOfTimesValid`, `r`.`NoOfTimesUsed`, `r`.`IsUsed`, `r`.`IsUsedById`, `r`.`DateCreated`, `r`.`DateLastUsed`
FROM `ReportCardPin` AS `r`
INNER JOIN `SchoolUsers` AS `s` ON `r`.`CreatedById` = `s`.`Id`
INNER JOIN `Schools` AS `s0` ON `r`.`SchoolId` = `s0`.`Id`
INNER JOIN `SchoolCampus` AS `s1` ON `r`.`CampusId` = `s1`.`Id`
INNER JOIN `Sessions` AS `s2` ON `r`.`SessionId` = `s2`.`Id`
INNER JOIN `Terms` AS `t` ON `r`.`TermId` = `t`.`Id`
WHERE `r`.`Id` = @__pinId_0
2021-07-08 20:19:53.314 +01:00 [INF] Executing ObjectResult, writing value of type 'SANTEGSMS.ResponseModels.GenericRespModel'.
2021-07-08 20:19:53.370 +01:00 [INF] Executed action SANTEGSMS.Controllers.ReportCardController.getPinByIdAsync (SANTEGSMS) in 363.2894ms
2021-07-08 20:19:53.370 +01:00 [INF] Executed endpoint 'SANTEGSMS.Controllers.ReportCardController.getPinByIdAsync (SANTEGSMS)'
2021-07-08 20:19:53.373 +01:00 [INF] Request finished in 422.8785ms 200 application/json; charset=utf-8
2021-07-08 20:20:28.046 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:1952/api/ReportCard/pins?schoolId=2&campusId=2&termId=1&sessionId=1  
2021-07-08 20:20:28.067 +01:00 [INF] Authorization was successful.
2021-07-08 20:20:28.069 +01:00 [INF] Executing endpoint 'SANTEGSMS.Controllers.ReportCardController.getAllPinsAsync (SANTEGSMS)'
2021-07-08 20:20:28.113 +01:00 [INF] Route matched with {action = "getAllPins", controller = "ReportCard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] getAllPinsAsync(Int64, Int64, Int64, Int64) on controller SANTEGSMS.Controllers.ReportCardController (SANTEGSMS).
2021-07-08 20:20:28.171 +01:00 [INF] Entity Framework Core 3.1.13 initialized 'AppDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: None
2021-07-08 20:20:28.193 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__schoolId_0='?' (DbType = Int64), @__campusId_1='?' (DbType = Int64), @__termId_2='?' (DbType = Int64), @__sessionId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `ReportCardPin` AS `r`
WHERE (((`r`.`SchoolId` = @__schoolId_0) AND (`r`.`CampusId` = @__campusId_1)) AND (`r`.`TermId` = @__termId_2)) AND (`r`.`SessionId` = @__sessionId_3)
2021-07-08 20:20:28.214 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__schoolId_0='?' (DbType = Int64), @__campusId_1='?' (DbType = Int64), @__termId_2='?' (DbType = Int64), @__sessionId_3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`Id`, `r`.`Pin`, `r`.`CreatedById`, `s`.`FirstName`, `s`.`LastName`, `r`.`SchoolId`, `s0`.`SchoolName`, `r`.`CampusId`, `s1`.`CampusName`, `r`.`SessionId`, `s2`.`SessionName`, `r`.`TermId`, `t`.`TermName`, `r`.`ViewedClassId`, `r`.`ViewedClassGradeId`, `r`.`NoOfTimesValid`, `r`.`NoOfTimesUsed`, `r`.`IsUsed`, `r`.`IsUsedById`, `r`.`DateCreated`, `r`.`DateLastUsed`
FROM `ReportCardPin` AS `r`
INNER JOIN `SchoolUsers` AS `s` ON `r`.`CreatedById` = `s`.`Id`
INNER JOIN `Schools` AS `s0` ON `r`.`SchoolId` = `s0`.`Id`
INNER JOIN `SchoolCampus` AS `s1` ON `r`.`CampusId` = `s1`.`Id`
INNER JOIN `Sessions` AS `s2` ON `r`.`SessionId` = `s2`.`Id`
INNER JOIN `Terms` AS `t` ON `r`.`TermId` = `t`.`Id`
WHERE (((`r`.`SchoolId` = @__schoolId_0) AND (`r`.`CampusId` = @__campusId_1)) AND (`r`.`TermId` = @__termId_2)) AND (`r`.`SessionId` = @__sessionId_3)
2021-07-08 20:20:28.215 +01:00 [INF] Executing ObjectResult, writing value of type 'SANTEGSMS.ResponseModels.GenericRespModel'.
2021-07-08 20:20:28.218 +01:00 [INF] Executed action SANTEGSMS.Controllers.ReportCardController.getAllPinsAsync (SANTEGSMS) in 103.7927ms
2021-07-08 20:20:28.219 +01:00 [INF] Executed endpoint 'SANTEGSMS.Controllers.ReportCardController.getAllPinsAsync (SANTEGSMS)'
2021-07-08 20:20:28.220 +01:00 [INF] Request finished in 181.3763ms 200 application/json; charset=utf-8
2021-07-08 20:20:57.008 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:1952/api/ReportCard/pinsByStatus?schoolId=2&campusId=2&termId=1&sessionId=1&isUsed=true  
2021-07-08 20:20:57.032 +01:00 [INF] Authorization was successful.
2021-07-08 20:20:57.040 +01:00 [INF] Executing endpoint 'SANTEGSMS.Controllers.ReportCardController.getPinsByStatusAsync (SANTEGSMS)'
2021-07-08 20:20:57.068 +01:00 [INF] Route matched with {action = "getPinsByStatus", controller = "ReportCard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] getPinsByStatusAsync(Int64, Int64, Int64, Int64, Boolean) on controller SANTEGSMS.Controllers.ReportCardController (SANTEGSMS).
2021-07-08 20:20:57.108 +01:00 [INF] Entity Framework Core 3.1.13 initialized 'AppDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: None
2021-07-08 20:20:57.134 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__schoolId_0='?' (DbType = Int64), @__campusId_1='?' (DbType = Int64), @__termId_2='?' (DbType = Int64), @__sessionId_3='?' (DbType = Int64), @__isUsed_4='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `ReportCardPin` AS `r`
WHERE ((((`r`.`SchoolId` = @__schoolId_0) AND (`r`.`CampusId` = @__campusId_1)) AND (`r`.`TermId` = @__termId_2)) AND (`r`.`SessionId` = @__sessionId_3)) AND (`r`.`IsUsed` = @__isUsed_4)
2021-07-08 20:20:57.136 +01:00 [INF] Executing ObjectResult, writing value of type 'SANTEGSMS.ResponseModels.GenericRespModel'.
2021-07-08 20:20:57.138 +01:00 [INF] Executed action SANTEGSMS.Controllers.ReportCardController.getPinsByStatusAsync (SANTEGSMS) in 69.6411ms
2021-07-08 20:20:57.139 +01:00 [INF] Executed endpoint 'SANTEGSMS.Controllers.ReportCardController.getPinsByStatusAsync (SANTEGSMS)'
2021-07-08 20:20:57.140 +01:00 [INF] Request finished in 132.4783ms 200 application/json; charset=utf-8
2021-07-08 20:21:04.157 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:1952/api/ReportCard/pinsByStatus?schoolId=2&campusId=2&termId=1&sessionId=1&isUsed=false  
2021-07-08 20:21:04.166 +01:00 [INF] Authorization was successful.
2021-07-08 20:21:04.170 +01:00 [INF] Executing endpoint 'SANTEGSMS.Controllers.ReportCardController.getPinsByStatusAsync (SANTEGSMS)'
2021-07-08 20:21:04.173 +01:00 [INF] Route matched with {action = "getPinsByStatus", controller = "ReportCard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] getPinsByStatusAsync(Int64, Int64, Int64, Int64, Boolean) on controller SANTEGSMS.Controllers.ReportCardController (SANTEGSMS).
2021-07-08 20:21:04.186 +01:00 [INF] Entity Framework Core 3.1.13 initialized 'AppDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: None
2021-07-08 20:21:04.195 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__schoolId_0='?' (DbType = Int64), @__campusId_1='?' (DbType = Int64), @__termId_2='?' (DbType = Int64), @__sessionId_3='?' (DbType = Int64), @__isUsed_4='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `ReportCardPin` AS `r`
WHERE ((((`r`.`SchoolId` = @__schoolId_0) AND (`r`.`CampusId` = @__campusId_1)) AND (`r`.`TermId` = @__termId_2)) AND (`r`.`SessionId` = @__sessionId_3)) AND (`r`.`IsUsed` = @__isUsed_4)
2021-07-08 20:21:04.221 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__schoolId_0='?' (DbType = Int64), @__campusId_1='?' (DbType = Int64), @__termId_2='?' (DbType = Int64), @__sessionId_3='?' (DbType = Int64), @__isUsed_4='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`Id`, `r`.`Pin`, `r`.`CreatedById`, `s`.`FirstName`, `s`.`LastName`, `r`.`SchoolId`, `s0`.`SchoolName`, `r`.`CampusId`, `s1`.`CampusName`, `r`.`SessionId`, `s2`.`SessionName`, `r`.`TermId`, `t`.`TermName`, `r`.`ViewedClassId`, `r`.`ViewedClassGradeId`, `r`.`NoOfTimesValid`, `r`.`NoOfTimesUsed`, `r`.`IsUsed`, `r`.`IsUsedById`, `r`.`DateCreated`, `r`.`DateLastUsed`
FROM `ReportCardPin` AS `r`
INNER JOIN `SchoolUsers` AS `s` ON `r`.`CreatedById` = `s`.`Id`
INNER JOIN `Schools` AS `s0` ON `r`.`SchoolId` = `s0`.`Id`
INNER JOIN `SchoolCampus` AS `s1` ON `r`.`CampusId` = `s1`.`Id`
INNER JOIN `Sessions` AS `s2` ON `r`.`SessionId` = `s2`.`Id`
INNER JOIN `Terms` AS `t` ON `r`.`TermId` = `t`.`Id`
WHERE ((((`r`.`SchoolId` = @__schoolId_0) AND (`r`.`CampusId` = @__campusId_1)) AND (`r`.`TermId` = @__termId_2)) AND (`r`.`SessionId` = @__sessionId_3)) AND (`r`.`IsUsed` = @__isUsed_4)
2021-07-08 20:21:04.222 +01:00 [INF] Executing ObjectResult, writing value of type 'SANTEGSMS.ResponseModels.GenericRespModel'.
2021-07-08 20:21:04.225 +01:00 [INF] Executed action SANTEGSMS.Controllers.ReportCardController.getPinsByStatusAsync (SANTEGSMS) in 51.0863ms
2021-07-08 20:21:04.226 +01:00 [INF] Executed endpoint 'SANTEGSMS.Controllers.ReportCardController.getPinsByStatusAsync (SANTEGSMS)'
2021-07-08 20:21:04.226 +01:00 [INF] Request finished in 69.1474ms 200 application/json; charset=utf-8
2021-07-08 20:21:59.419 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:1952/api/ReportCard/generatePins application/json 128
2021-07-08 20:21:59.422 +01:00 [INF] CORS policy execution successful.
2021-07-08 20:21:59.431 +01:00 [INF] Authorization was successful.
2021-07-08 20:21:59.432 +01:00 [INF] Executing endpoint 'SANTEGSMS.Controllers.ReportCardController.generatePinsAsync (SANTEGSMS)'
2021-07-08 20:21:59.451 +01:00 [INF] Route matched with {action = "generatePins", controller = "ReportCard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] generatePinsAsync(SANTEGSMS.RequestModels.PinCreateReqModel) on controller SANTEGSMS.Controllers.ReportCardController (SANTEGSMS).
2021-07-08 20:21:59.529 +01:00 [INF] Entity Framework Core 3.1.13 initialized 'AppDbContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: None
2021-07-08 20:21:59.638 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__schoolId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`DateCreated`, `s`.`DateUpdated`, `s`.`DistrictId`, `s`.`IsActive`, `s`.`IsApproved`, `s`.`IsVerified`, `s`.`LocalGovtId`, `s`.`SchoolCode`, `s`.`SchoolLogoUrl`, `s`.`SchoolName`, `s`.`SchoolTypeId`, `s`.`StateId`
FROM `Schools` AS `s`
WHERE `s`.`Id` = @__schoolId_0
LIMIT 1
2021-07-08 20:22:00.070 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__schoolCampusId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`CampusAddress`, `s`.`CampusName`, `s`.`DateCreated`, `s`.`IsActive`, `s`.`SchoolId`
FROM `SchoolCampus` AS `s`
WHERE `s`.`Id` = @__schoolCampusId_0
LIMIT 1
2021-07-08 20:22:00.430 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__termId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`TermName`
FROM `Terms` AS `t`
WHERE `t`.`Id` = @__termId_0
LIMIT 1
2021-07-08 20:22:00.451 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`DateCreated`, `s`.`DateDeleted`, `s`.`DeletedBy`, `s`.`IsDeleted`, `s`.`SchoolId`, `s`.`SessionName`
FROM `Sessions` AS `s`
WHERE `s`.`Id` = @__sessionId_0
LIMIT 1
2021-07-08 20:22:00.598 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__schoolId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`Id`, `s`.`DateCreated`, `s`.`DateUpdated`, `s`.`DistrictId`, `s`.`IsActive`, `s`.`IsApproved`, `s`.`IsVerified`, `s`.`LocalGovtId`, `s`.`SchoolCode`, `s`.`SchoolLogoUrl`, `s`.`SchoolName`, `s`.`SchoolTypeId`, `s`.`StateId`
FROM `Schools` AS `s`
WHERE `s`.`Id` = @__schoolId_0
LIMIT 2
2021-07-08 20:22:01.598 +01:00 [INF] Executed DbCommand (92ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Int64), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = Int64), @p10='?' (DbType = Int64), @p11='?' (DbType = Int64), @p12='?' (DbType = Int64), @p13='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ReportCardPin` (`CampusId`, `CreatedById`, `DateCreated`, `DateLastUsed`, `IsUsed`, `IsUsedById`, `NoOfTimesUsed`, `NoOfTimesValid`, `Pin`, `SchoolId`, `SessionId`, `TermId`, `ViewedClassGradeId`, `ViewedClassId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
SELECT `Id`
FROM `ReportCardPin`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2021-07-08 20:22:01.830 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__reportCardPin_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `ReportCardPin` AS `r`
WHERE `r`.`Id` = @__reportCardPin_Id_0
2021-07-08 20:22:01.934 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Int64), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = Int64), @p10='?' (DbType = Int64), @p11='?' (DbType = Int64), @p12='?' (DbType = Int64), @p13='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ReportCardPin` (`CampusId`, `CreatedById`, `DateCreated`, `DateLastUsed`, `IsUsed`, `IsUsedById`, `NoOfTimesUsed`, `NoOfTimesValid`, `Pin`, `SchoolId`, `SessionId`, `TermId`, `ViewedClassGradeId`, `ViewedClassId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
SELECT `Id`
FROM `ReportCardPin`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2021-07-08 20:22:02.028 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reportCardPin_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `ReportCardPin` AS `r`
WHERE `r`.`Id` = @__reportCardPin_Id_0
2021-07-08 20:22:02.066 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Int64), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = Int64), @p10='?' (DbType = Int64), @p11='?' (DbType = Int64), @p12='?' (DbType = Int64), @p13='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ReportCardPin` (`CampusId`, `CreatedById`, `DateCreated`, `DateLastUsed`, `IsUsed`, `IsUsedById`, `NoOfTimesUsed`, `NoOfTimesValid`, `Pin`, `SchoolId`, `SessionId`, `TermId`, `ViewedClassGradeId`, `ViewedClassId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
SELECT `Id`
FROM `ReportCardPin`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2021-07-08 20:22:02.135 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reportCardPin_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `ReportCardPin` AS `r`
WHERE `r`.`Id` = @__reportCardPin_Id_0
2021-07-08 20:22:02.175 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Int64), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = Int64), @p10='?' (DbType = Int64), @p11='?' (DbType = Int64), @p12='?' (DbType = Int64), @p13='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ReportCardPin` (`CampusId`, `CreatedById`, `DateCreated`, `DateLastUsed`, `IsUsed`, `IsUsedById`, `NoOfTimesUsed`, `NoOfTimesValid`, `Pin`, `SchoolId`, `SessionId`, `TermId`, `ViewedClassGradeId`, `ViewedClassId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
SELECT `Id`
FROM `ReportCardPin`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2021-07-08 20:22:02.217 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reportCardPin_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `ReportCardPin` AS `r`
WHERE `r`.`Id` = @__reportCardPin_Id_0
2021-07-08 20:22:02.248 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Int64), @p7='?' (DbType = Int64), @p8='?' (Size = 4000), @p9='?' (DbType = Int64), @p10='?' (DbType = Int64), @p11='?' (DbType = Int64), @p12='?' (DbType = Int64), @p13='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ReportCardPin` (`CampusId`, `CreatedById`, `DateCreated`, `DateLastUsed`, `IsUsed`, `IsUsedById`, `NoOfTimesUsed`, `NoOfTimesValid`, `Pin`, `SchoolId`, `SessionId`, `TermId`, `ViewedClassGradeId`, `ViewedClassId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
SELECT `Id`
FROM `ReportCardPin`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2021-07-08 20:22:02.290 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reportCardPin_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `ReportCardPin` AS `r`
WHERE `r`.`Id` = @__reportCardPin_Id_0
2021-07-08 20:22:02.301 +01:00 [INF] Executing ObjectResult, writing value of type 'SANTEGSMS.ResponseModels.GenericRespModel'.
2021-07-08 20:22:02.324 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reportCardPin_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`Id`, `r`.`Pin`, `r`.`CreatedById`, `s`.`FirstName`, `s`.`LastName`, `r`.`SchoolId`, `s0`.`SchoolName`, `r`.`CampusId`, `s1`.`CampusName`, `r`.`SessionId`, `s2`.`SessionName`, `r`.`TermId`, `t`.`TermName`, `r`.`ViewedClassId`, `r`.`ViewedClassGradeId`, `r`.`NoOfTimesValid`, `r`.`NoOfTimesUsed`, `r`.`IsUsed`, `r`.`IsUsedById`, `r`.`DateCreated`, `r`.`DateLastUsed`
FROM `ReportCardPin` AS `r`
INNER JOIN `SchoolUsers` AS `s` ON `r`.`CreatedById` = `s`.`Id`
INNER JOIN `Schools` AS `s0` ON `r`.`SchoolId` = `s0`.`Id`
INNER JOIN `SchoolCampus` AS `s1` ON `r`.`CampusId` = `s1`.`Id`
INNER JOIN `Sessions` AS `s2` ON `r`.`SessionId` = `s2`.`Id`
INNER JOIN `Terms` AS `t` ON `r`.`TermId` = `t`.`Id`
WHERE `r`.`Id` = @__reportCardPin_Id_0
2021-07-08 20:22:02.655 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'SANTEGSMS.DatabaseContext.AppDbContext'.
System.InvalidOperationException: Cannot set MySqlCommand.CommandText when there is an open DataReader for this command; it must be closed first.
   at MySql.Data.MySqlClient.MySqlCommand.set_CommandText(String value) in /_/src/MySqlConnector/MySql.Data.MySqlClient/MySqlCommand.cs:line 148
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
System.InvalidOperationException: Cannot set MySqlCommand.CommandText when there is an open DataReader for this command; it must be closed first.
   at MySql.Data.MySqlClient.MySqlCommand.set_CommandText(String value) in /_/src/MySqlConnector/MySql.Data.MySqlClient/MySqlCommand.cs:line 148
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
2021-07-08 20:22:02.734 +01:00 [INF] Executed action SANTEGSMS.Controllers.ReportCardController.generatePinsAsync (SANTEGSMS) in 3283.0433ms
2021-07-08 20:22:02.738 +01:00 [INF] Executed endpoint 'SANTEGSMS.Controllers.ReportCardController.generatePinsAsync (SANTEGSMS)'
2021-07-08 20:22:02.822 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Cannot set MySqlCommand.CommandText when there is an open DataReader for this command; it must be closed first.
   at MySql.Data.MySqlClient.MySqlCommand.set_CommandText(String value) in /_/src/MySqlConnector/MySql.Data.MySqlClient/MySqlCommand.cs:line 148
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Text.Json.JsonSerializer.HandleEnumerable(JsonClassInfo elementClassInfo, JsonSerializerOptions options, Utf8JsonWriter writer, WriteStack& state)
   at System.Text.Json.JsonSerializer.Write(Utf8JsonWriter writer, Int32 originalWriterDepth, Int32 flushThreshold, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore(Stream utf8Json, Object value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-07-08 20:22:03.031 +01:00 [INF] Request finished in 3620.4161ms 500 text/plain
